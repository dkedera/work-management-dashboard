<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Work Management</title>
  <style>
    body {
      font-family: Garamond, serif;
      margin: 20px;
      background-color: #1a237e; /* Light Navy Blue */
      color: #000;
    }
    .container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }
    .box {
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 8px;
      background: #f9f9f9;
      overflow-y: auto;
      max-height: 400px;
    }
    .box.fixed {
      max-height: 200px;
    }
    h1 {
      color: white;
      font-weight: bold;
      font-family: Garamond, serif;
    }
    h2, h3, th, td, input, button, select, ul, li {
      font-family: Garamond, serif;
    }
    h2 {
      font-size: 1.1em;
      margin-top: 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 4px;
      text-align: left;
    }
    .green-button {
      background-color: green;
      color: white;
      padding: 6px 10px;
      border: none;
      cursor: pointer;
      margin-top: 5px;
    }
    .form-section {
      display: none;
      margin-top: 10px;
    }
    input[type="text"], input[type="date"] {
      width: 100%;
      padding: 4px;
      margin-bottom: 6px;
    }
    select {
      width: 100%;
      padding: 4px;
    }
  </style>
</head>
<body>

<h1>Work Management</h1>
<select onchange="navigateToPage(this.value)">
  <option value="main">Main Page</option>
  <option value="records">Records</option>
  <option value="integrations">Integrations</option>
</select>

<div id="mainPage" class="container">

  <!-- Shortcuts -->
  <div class="box fixed" style="grid-column: span 1;">
    <h2>Shortcuts</h2>
    <ul id="shortcutList"></ul>
    <button class="green-button" onclick="openShortcutForm()">Add Shortcut</button>
    <div id="shortcutForm" class="form-section">
      <input type="text" id="linkName" placeholder="Link Name">
      <input type="text" id="linkURL" placeholder="Link URL">
      <button onclick="addShortcut()">Save</button>
      <button onclick="closeShortcutForm()">Cancel</button>
    </div>
  </div>

  <!-- Tasks -->
  <div class="box" style="grid-column: span 3;">
    <h2>Task</h2>
    <table id="taskTable">
      <tr><th>Task</th><th>Owner</th><th>Status Icon</th><th>Due Date</th><th>Current Status</th></tr>
    </table>

    <button class="green-button" onclick="openTaskForm()">Add New Task</button>
    <div id="taskForm" class="form-section">
      <label>Task Name</label>
      <input type="text" id="taskName" placeholder="Task">
      <label>Task Owner</label>
      <input type="text" id="taskOwner" placeholder="Owner">
      <label>Task Description</label>
      <input type="text" id="taskDescription" placeholder="Description">
      <label>Due Date</label>
      <input type="date" id="taskDue">
      <button onclick="addTask()">Save Task</button>
      <button onclick="closeTaskForm()">Cancel</button>
    </div>
  </div>

</div>

<div id="recordsPage" class="container" style="display:none">
  <div class="box" style="grid-column: span 4;">
    <h2>Completed Tasks</h2>
    <table id="recordsTable">
      <tr><th>Task</th><th>Owner</th><th>Description</th><th>Due Date</th><th>Status</th></tr>
    </table>
  </div>
</div>

<div id="integrationsPage" class="container" style="display:none">
  <div class="box" style="grid-column: span 4;">
    <h2>Integrations</h2>
    <p>Integrations page content goes here.</p>
  </div>
</div>

<script>
  function navigateToPage(value) {
    document.getElementById('mainPage').style.display = 'none';
    document.getElementById('recordsPage').style.display = 'none';
    document.getElementById('integrationsPage').style.display = 'none';

    if (value === 'main') document.getElementById('mainPage').style.display = 'grid';
    if (value === 'records') document.getElementById('recordsPage').style.display = 'grid';
    if (value === 'integrations') document.getElementById('integrationsPage').style.display = 'grid';
  }

  function openShortcutForm() {
    document.getElementById('shortcutForm').style.display = 'block';
  }
  function closeShortcutForm() {
    document.getElementById('shortcutForm').style.display = 'none';
  }
  function addShortcut() {
    const name = document.getElementById('linkName').value;
    const url = document.getElementById('linkURL').value;
    if (name && url) {
      const li = document.createElement("li");
      const a = document.createElement("a");
      a.href = url;
      a.textContent = name;
      a.target = "_blank";
      li.appendChild(a);
      document.getElementById("shortcutList").appendChild(li);
      closeShortcutForm();
    }
  }

  function openTaskForm() {
    document.getElementById('taskForm').style.display = 'block';
  }
  function closeTaskForm() {
    document.getElementById('taskForm').style.display = 'none';
  }
  function addTask() {
    const name = document.getElementById('taskName').value;
    const owner = document.getElementById('taskOwner').value;
    const desc = document.getElementById('taskDescription').value;
    const due = document.getElementById('taskDue').value;
    const today = new Date().toISOString().split('T')[0];
    const icon = due < today ? 'ðŸ”´' : (due === today ? 'ðŸŸ ' : 'ðŸŸ¢');

    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${name}</td><td>${owner}</td><td>${icon}</td><td>${due}</td>
      <td><select onchange="updateStatus(this, this.parentElement.parentElement, '${name}', '${owner}', '${desc}', '${due}')">
        <option value="Pending">Pending</option>
        <option value="In Progress">In Progress</option>
        <option value="Completed">Completed</option>
      </select></td>`;

    document.getElementById("taskTable").appendChild(tr);
    closeTaskForm();
  }

  function updateStatus(selectElem, row, name, owner, desc, due) {
    const colorMap = {
      'Pending': '',
      'In Progress': 'lightblue',
      'Completed': 'lightgreen'
    };
    row.style.backgroundColor = colorMap[selectElem.value];

    if (selectElem.value === 'Completed') {
      document.getElementById('recordsTable').innerHTML += `<tr><td>${name}</td><td>${owner}</td><td>${desc}</td><td>${due}</td><td>Completed</td></tr>`;
      row.remove();
    }
  }
</script>

</body>
</html>
