<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Work Management</title>
  <style>
    body {
      font-family: Garamond, serif;
      margin: 20px;
      background-color: #336699; /* Light Navy Blue */
      color: #000;
    }
    .container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }
    .box {
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 8px;
      background: #f9f9f9;
    }
    h1 {
      color: white;
      font-weight: bold;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 4px;
      text-align: left;
    }
    .green-button {
      background-color: green;
      color: white;
      padding: 6px 10px;
      border: none;
      cursor: pointer;
      margin-top: 5px;
    }
    .form-section {
      margin-top: 10px;
    }
    input[type="text"], input[type="date"], select {
      width: 100%;
      padding: 6px;
      margin-bottom: 6px;
    }
    label {
      display: block;
      font-weight: bold;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h1>Work Management</h1>
<div class="container">

  <!-- Shortcuts -->
  <div class="box">
    <h2>Shortcuts</h2>
    <ul id="shortcutList"></ul>
    <button class="green-button" onclick="openShortcutForm()">Add Shortcut</button>
    <div id="shortcutForm" class="form-section" style="display:none;">
      <label for="linkName">Link Name</label>
      <input type="text" id="linkName" placeholder="Enter name">
      <label for="linkURL">Link URL</label>
      <input type="text" id="linkURL" placeholder="Enter URL">
      <button onclick="addShortcut()">Save</button>
      <button onclick="closeShortcutForm()">Cancel</button>
    </div>
  </div>

  <!-- Tasks -->
  <div class="box" style="grid-column: span 2;">
    <h2>Tasks</h2>
    <table id="taskTable">
      <tr>
        <th>Task</th>
        <th>Owner</th>
        <th>Description</th>
        <th>Status Icon</th>
        <th>Due Date</th>
        <th>Current Status</th>
        <th>Status</th>
      </tr>
    </table>

    <!-- Task Form Below Table -->
    <div class="form-section">
      <label for="taskName">Task Name</label>
      <input type="text" id="taskName" placeholder="Task Name">

      <label for="taskOwner">Task Owner</label>
      <input type="text" id="taskOwner" placeholder="Owner">

      <label for="taskDescription">Description</label>
      <input type="text" id="taskDescription" placeholder="Description">

      <label for="taskDue">Due Date</label>
      <input type="date" id="taskDue">

      <button class="green-button" onclick="addTask()">Add Task</button>
    </div>
  </div>

  <!-- Notes -->
  <div class="box" style="grid-column: span 3;">
    <h2>Notes</h2>
    <ul id="notesList"></ul>
    <button class="green-button" onclick="openNotesForm()">Add Notes</button>
    <div id="notesForm" class="form-section" style="display:none;">
      <label for="noteTitle">Title</label>
      <input type="text" id="noteTitle" placeholder="Title">
      <label for="noteContent">Note</label>
      <input type="text" id="noteContent" placeholder="Note">
      <button onclick="addNote()">Save Notes</button>
      <button onclick="closeNotesForm()">Cancel</button>
    </div>
  </div>

</div>

<script>
  function openShortcutForm() {
    document.getElementById('shortcutForm').style.display = 'block';
  }
  function closeShortcutForm() {
    document.getElementById('shortcutForm').style.display = 'none';
  }

  function addShortcut() {
    const name = document.getElementById('linkName').value;
    const url = document.getElementById('linkURL').value;
    if (name && url) {
      const li = document.createElement("li");
      const a = document.createElement("a");
      a.href = url;
      a.textContent = name;
      a.target = "_blank";
      li.appendChild(a);
      document.getElementById("shortcutList").appendChild(li);
      closeShortcutForm();
    }
  }

  function addTask() {
    const name = document.getElementById('taskName').value;
    const owner = document.getElementById('taskOwner').value;
    const desc = document.getElementById('taskDescription').value;
    const due = document.getElementById('taskDue').value;

    const today = new Date().toISOString().split('T')[0];
    let icon = due < today ? 'ðŸ”´' : (due === today ? 'ðŸŸ ' : 'ðŸŸ¢');

    const table = document.getElementById("taskTable");
    const row = table.insertRow(-1);

    row.insertCell(0).innerText = name;
    row.insertCell(1).innerText = owner;
    row.insertCell(2).innerText = desc;

    const iconCell = row.insertCell(3);
    iconCell.textContent = icon;

    row.insertCell(4).innerText = due;

    // Add cell for current status
    const statusTextCell = row.insertCell(5);
    statusTextCell.innerText = "Pending";

    // Add dropdown for changing status
    const statusDropdownCell = row.insertCell(6);
    const select = document.createElement("select");
    ["Pending", "In Progress", "Done"].forEach(status => {
      const opt = document.createElement("option");
      opt.value = status;
      opt.text = status;
      select.appendChild(opt);
    });

    select.onchange = () => {
      if (select.value === "Done") iconCell.textContent = "ðŸ”µ";
      else if (select.value === "In Progress") iconCell.textContent = "ðŸŸ¡";
      else iconCell.textContent = "ðŸ”´";

      statusTextCell.innerText = select.value;
    };

    statusDropdownCell.appendChild(select);

    // Reset form
    document.getElementById('taskName').value = "";
    document.getElementById('taskOwner').value = "";
    document.getElementById('taskDescription').value = "";
    document.getElementById('taskDue').value = "";
  }

  function openNotesForm() {
    document.getElementById('notesForm').style.display = 'block';
  }
  function closeNotesForm() {
    document.getElementById('notesForm').style.display = 'none';
  }
  function addNote() {
    const title = document.getElementById('noteTitle').value;
    const content = document.getElementById('noteContent').value;
    const li = document.createElement("li");
    li.textContent = `${title}: ${content}`;
    document.getElementById("notesList").appendChild(li);
    closeNotesForm();
  }
</script>

</body>
</html>
